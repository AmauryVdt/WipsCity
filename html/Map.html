<link rel="stylesheet" href="../css/Map.css">

    <div id="container">
        <div id="ground-left">&nbsp;</div>
        <div id="ground">
            <div id="tile-container">
                <div class="tile" id="t1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t5" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t6" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t7" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t8" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="tile" id="t9" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </div>
        </div>
        <div id="ground-right">&nbsp;</div>
    </div>

    <div id="holder">
        <div  class="bloc" id="commerce">
            <img id="commercePicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="maison">
            <img id="maisonPicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="appartement">
            <img id="appartementPicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="eoliene">
            <img id="eolienePicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="hydraulique">
            <img id="hydrauliquePicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="solaire">
            <img id="solairePicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="ecole">
            <img id="ecolePicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
        <hr class="separateur">
        <div class="bloc" id="industrie">
            <img id="industriePicture0" src="../images/Aimez_la_Nature2.png" draggable="true" ondragstart="drag(event)">
        </div>
    </div>


    <script>
        window.onload = addPicture();

        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            ev.target.appendChild(document.getElementById(data));
            addPicture();
        }

        // Merci de ne pas juger le code Ã  partir d'ici, j'avais la flemme de faire un beau code

        var countCommercePicture,
            countMaisonPicture,
            countAppartementPicture,
            countEolienePicture,
            countHydrauliquePicture,
            countSolairePicture,
            countEcolePicture,
            countIndustriePicture  = 1;

        function addPicture() {
            if (document.getElementById("commerce").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonPicture${countCommercePicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("commerce");
                div.appendChild(img);
                countCommercePicture++;
            }
            else if (document.getElementById("maison").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonPicture${countMaisonPicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("maison");
                div.appendChild(img);
                countMaisonPicture++;
            }
            else if (document.getElementById("appartement").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonAppartement${countAppartementPicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("appartement");
                div.appendChild(img);
                countAppartementPicture++;
            }
            else if (document.getElementById("eoliene").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonEoliene${countEolienePicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("eoliene");
                div.appendChild(img);
                countEolienePicture++;
            }
            else if (document.getElementById("hydraulique").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonHydraulique${countHydrauliquePicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("hydraulique");
                div.appendChild(img);
                countHydrauliquePicture++;
            }
            else if (document.getElementById("solaire").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonSolaire${countSolairePicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("solaire");
                div.appendChild(img);
                countSolairePicture++;
            }
            else if (document.getElementById("ecole").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonEcole${countEcolePicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("ecole");
                div.appendChild(img);
                countEcolePicture++;
            }
            else if (document.getElementById("industrie").childElementCount < 1) {
                const img = document.createElement("img");
                img.id = `maisonIndustrie${countIndustriePicture}`;
                img.src = "../images/Aimez_la_Nature2.png";
                img.draggable = "true";
                this.addEventListener('dragstart', function() {drag(event)}, false);

                const div = document.getElementById("industrie");
                div.appendChild(img);
                countIndustriePicture++;
            }
        }
    </script>